---
// components/TraderDetail.tsx
//'use client';
//import { useState } from 'react';
import {Image} from 'astro:assets';
import type { ForexTrader } from '~/types'
import RichText from '~/components/common/RichText';


/**
 * @description Trader Bio used to showcase a summary of a trader
 * @param trader - The trader to display. Imported from PayloadCMS
 * @returns 

export default function TraderBio({ trader }: { trader: ForexTrader }) {

    const sectionTitle = 'Complete List of the Top Forex Traders in Kenya'
    const sectionIntro = 'Here is a complete list of the best forex traders in Kenya, including the forex trading strategies that they use.'
  

  if (!trader) {
    return <div>Trader not found</div>;
  }
     */
    
    interface Props {
        sectionTitle: string;
        sectionIntro: string;
        trader: ForexTrader;
    }

const { trader, sectionTitle, sectionIntro} = Astro.props
---
      <div class="mb-8 animate-fade-in">

        <h2>{sectionTitle}</h2>
        <p>{sectionIntro}</p>

        <div class="flex flex-col md:flex-row gap-8 dark">
          <div class="md:w-1/3">
            <Image src={typeof trader.photo === 'string' ? trader.photo : trader.photo?.url || '/default.jpg'} alt={'photo of' + trader.name + ' whois one of the best forex traders in Kenya' || 'Trader'} width={300} height={300} class="rounded-xl" />

            {/* Trader Connect */}
<div class="mt-8 p-4 bg-blue-50 rounded-lg">
        <h3 class="font-bold mb-2">Connect</h3>
        <div class="flex space-x-4">
          {trader.socialLinks?.map((link: any, index: number) => (
            <a  href={link.url} class="text-blue-600 hover:underline">
              {link.platform}
            </a>
          ))}
        </div>
      </div>

            {trader.forexBroker && (
              <div class="mt-4 p-4 bg-emerald-50 rounded-lg">
                <h4 class="font-bold text-emerald-700">Preferred Broker</h4>
                <p class="text-sm">{typeof trader.forexBroker === 'object' ? trader.forexBroker.name : trader.forexBroker} - Regulated & Kenyan-friendly</p>
              </div>
            )}
          </div>
          <div class="md:w-2/3">
            <h2 id={`${trader.name.toLowerCase().replace(/\s+/g, '-')}`} class="text-4xl font-bold mb-4">{trader.name}</h2>
            <p class="text-xl  mb-6">{trader.tradingStyle} Trader | {trader.experienceYears} Years</p>
            <div class="max-w-none">
              <RichText content={trader.bio} />
                <a href={`/forex-trading/top-traders/${trader.name.toLowerCase().replace(/\s+/g, '-')}/`} class=" btn-primary">
                        Learn More about {trader.name}
                </a>       
            </div>
          </div>
        </div>
        <hr color="#2abd20" role="separator" />
      </div>