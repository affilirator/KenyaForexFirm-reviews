---
import { Image } from 'astro:assets';
const { author } = Astro.props;

const authorImage = author.authorImage?.url || 'https://fxmedia.kenyaforexfirm.com/kenyaforexfirm-api/kenyaforexfirm-opengraph.webp'
---

<section
  class="pt-24 pb-12 bg-gradient-to-br from-neutral-950 via-neutral-900 to-neutral-950"
>
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="flex flex-col md:flex-row gap-8 items-center md:items-start">
      <!-- Author Image -->
      <div class="flex-shrink-0">
        {
          author.authorImage ? (
            <Image
              src={authorImage}
              alt={author.authorImage.alt || author.name || 'author image'}
              width="200"
              height="200"
              class="w-40 h-40 md:w-48 md:h-48 object-cover rounded-full border-4 border-neutral-700/50 shadow-lg"
            />
          ) : (
            <div class="w-40 h-40 md:w-48 md:h-48 bg-neutral-800 rounded-full flex items-center justify-center border-4 border-neutral-700/50">
              <span class="text-4xl font-bold text-neutral-500">
                {author.name.substring(0, 2)}
              </span>
            </div>
          )
        }
      </div>

      <!-- Author Info -->
      <div class="flex-grow text-center md:text-left">
        <div class="mb-2">
          {
            author.credentials && (
              <span class="inline-block bg-primary-500/20 text-primary-400 px-3 py-1 rounded-full text-sm font-medium mb-2">
                {author.credentials}
              </span>
            )
          }
        </div>

        <h1 class="text-3xl md:text-4xl font-bold text-white mb-2">
          {author.name}
        </h1>

        {
          author.jobTitle && (
            <div class="text-xl text-neutral-300 mb-4">{author.jobTitle}</div>
          )
        }

        <div
          class="flex flex-wrap items-center justify-center md:justify-start gap-4 text-sm text-neutral-400"
        >
          {
            author.location && (
              <div class="flex items-center gap-1">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  class="h-4 w-4"
                  fill="none"
                  viewBox="0 0 24 24"
                  stroke="currentColor"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"
                  />
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"
                  />
                </svg>
                <span>
                  {author.location.city}, {author.location.country}
                </span>
              </div>
            )
          }

          {
            author.yearsExperience && (
              <div class="flex items-center gap-1">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  class="h-4 w-4"
                  fill="none"
                  viewBox="0 0 24 24"
                  stroke="currentColor"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"
                  />
                </svg>
                <span>{author.yearsExperience}+ Years Experience</span>
              </div>
            )
          }

          {
            author.reviews && (
              <div class="flex items-center gap-1">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  class="h-4 w-4"
                  fill="none"
                  viewBox="0 0 24 24"
                  stroke="currentColor"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"
                  />
                </svg>
                <span>{author.reviews.docs.length} Broker Reviews</span>
              </div>
            )
          }
        </div>
        {
          author.bio && (
            <p class="mt-4 text-neutral-300 max-w-2xl mx-auto md:mx-0">
              {author.bio}
            </p>
          )
        }
      </div>
    </div>
  </div>
</section>
