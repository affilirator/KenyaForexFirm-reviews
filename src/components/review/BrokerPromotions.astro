---
interface Props {
  promotions: any[];
}

const { promotions } = Astro.props;

function getTypeIcon(type: string) {
  switch (type) {
    case 'depositBonus': return 'ðŸ’°';
    case 'referral': return 'ðŸ‘¥';
    default: return 'ðŸŽ';
  }
}

function getStatusColor(status: string) {
  return status === 'active' ? 'bg-green-100 text-green-800' : 'bg-gray-100 text-gray-800';
}
---

{promotions.length > 0 && (
  <section class="mb-12">
    <h2 class="text-2xl font-bold text-white mb-6">Current Promotions & Bonuses</h2>
    <div class="grid gap-6 md:grid-cols-2 lg:grid-cols-3">
      {promotions.map((promo) => (
        <div class="bg-neutral-800 rounded-lg p-6 border border-neutral-700 hover:border-yellow-500 transition-colors">
          <div class="flex items-start justify-between mb-4">
            <div class="flex items-center gap-2">
              <span class="text-2xl">{getTypeIcon(promo.type)}</span>
              <span class={`px-2 py-1 rounded-full text-xs font-medium ${getStatusColor(promo.status)}`}>
                {promo.status}
              </span>
            </div>
          </div>
          
          <h3 class="text-lg font-semibold text-white mb-2">{promo.title}</h3>
          <p class="text-neutral-300 text-sm mb-4 line-clamp-3">{promo.description}</p>
          
          {promo.link && (
            <a 
              href={promo.link}
              target="_blank"
              rel="nofollow noopener"
              class="inline-flex items-center text-yellow-400 hover:text-yellow-300 text-sm font-medium"
            >
              Learn More â†’
            </a>
          )}
          
          {promo.terms && (
            <a 
              href={promo.terms}
              target="_blank"
              rel="nofollow noopener"
              class="block mt-2 text-neutral-400 hover:text-neutral-300 text-xs"
            >
              Terms & Conditions
            </a>
          )}
        </div>
      ))}
    </div>
  </section>
)}

<style>
  .line-clamp-3 {
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
</style>