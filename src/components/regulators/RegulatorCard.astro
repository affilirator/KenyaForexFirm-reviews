---
import type { Regulator } from '../../types/regulator';

interface Props {
  regulator: Regulator;
}

const { regulator } = Astro.props;
---

<div class="bg-neutral-800/60 backdrop-blur-sm border border-neutral-700/50 rounded-xl overflow-hidden hover:border-primary-500/50 hover:shadow-xl hover:shadow-primary-500/20 transition-all duration-300 group relative">
  <div class="absolute inset-0 bg-gradient-to-br from-primary-600/10 to-accent-600/10 opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div>
  <div class="absolute inset-0 bg-[radial-gradient(circle_at_top_right,rgba(56,189,248,0.05),transparent_40%)] opacity-0 group-hover:opacity-100 transition-opacity duration-500"></div>
  <div class="p-7 relative z-10">
    <div class="flex items-center gap-5 mb-6">
      {regulator.logo && (
        <div class="flex-shrink-0 relative">
          <div class="absolute -inset-1 bg-gradient-to-r from-primary-500 to-accent-500 rounded-lg blur opacity-0 group-hover:opacity-40 transition duration-300"></div>
          <img 
            src={regulator.logo.url} 
            alt={regulator.name} 
            class="relative w-16 h-16 object-contain bg-white rounded-lg p-1.5 border border-neutral-700/80 group-hover:border-primary-500/60 transition-all duration-300 group-hover:scale-105"
          />
        </div>
      )}
      <div>
        <h3 class="text-xl font-bold text-white font-display tracking-tight">
          <a href={`/regulators/${regulator.slug}`} class="hover:text-primary-400 transition-colors duration-200 relative inline-block">
            <span class="relative z-10">{regulator.name}</span>
            <span class="absolute bottom-0 left-0 w-0 h-0.5 bg-gradient-to-r from-primary-500 to-accent-500 group-hover:w-full transition-all duration-300"></span>
          </a>
        </h3>
        <div class="flex items-center gap-2 mt-1.5">
          <span class="bg-primary-500/20 text-primary-400 px-2.5 py-0.5 rounded-full text-xs font-medium border border-primary-500/20">
            {regulator.shortName}
          </span>
          <span class="text-neutral-400 text-sm flex items-center">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-3.5 w-3.5 mr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064" />
            </svg>
            {regulator.country}
          </span>
        </div>
      </div>
    </div>
    
    <p class="text-neutral-300 text-sm mb-6 line-clamp-3 leading-relaxed">
      {regulator.description}
    </p>
    
    <div class="grid grid-cols-2 gap-4 mb-6">
      <div class="bg-gradient-to-br from-neutral-700/40 to-neutral-800/40 p-4 rounded-lg group-hover:from-neutral-700/50 group-hover:to-neutral-800/50 transition-colors duration-300 border border-neutral-700/30 group-hover:border-neutral-600/30">
        <div class="text-xs text-neutral-400 font-medium uppercase tracking-wide">Trust Score</div>
        <div class="text-lg font-bold text-white mt-1 flex items-center">
          <span class="mr-2">{regulator.trustScore}/100</span>
          <div class="w-full bg-neutral-700/50 rounded-full h-1.5 overflow-hidden">
            <div class="bg-gradient-to-r from-primary-500 to-accent-500 h-full rounded-full" style={`width: ${regulator.trustScore}%`}></div>
          </div>
        </div>
      </div>
      <div class="bg-gradient-to-br from-neutral-700/40 to-neutral-800/40 p-4 rounded-lg group-hover:from-neutral-700/50 group-hover:to-neutral-800/50 transition-colors duration-300 border border-neutral-700/30 group-hover:border-neutral-600/30">
        <div class="text-xs text-neutral-400 font-medium uppercase tracking-wide">Max Leverage</div>
        <div class="text-lg font-bold text-white mt-1">{regulator.maxLeverage}</div>
      </div>
    </div>
    
    <div class="flex justify-between items-center">
      <div class="text-sm text-neutral-400 flex items-center">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1.5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" />
        </svg>
        Est. {regulator.established}
      </div>
      <div class="flex items-center gap-4">
        <a 
          href={`/regulators/${regulator.slug}`}
          class="text-primary-400 hover:text-primary-300 text-sm font-medium flex items-center gap-1.5 transition-colors duration-200 group/btn"
        >
          Details
          <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 transform group-hover/btn:translate-x-0.5 transition-transform duration-200" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
          </svg>
        </a>
        <a 
          href={regulator.website} 
          target="_blank" 
          rel="noopener noreferrer"
          class="text-neutral-400 hover:text-neutral-300 text-sm flex items-center gap-1.5 transition-colors duration-200 group/btn"
        >
          Website
          <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 transform group-hover/btn:translate-x-0.5 transition-transform duration-200" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14" />
          </svg>
        </a>
      </div>
    </div>
  </div>
</div>